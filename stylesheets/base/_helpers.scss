// -----------------------------------------------------------------------------
// This file contains CSS helper classes.
// -----------------------------------------------------------------------------

/* CLASSES
============================================================================ */
/// Add a loading background.
///
/// Already applied to `embed` and `img`.
///
/// @author Sobral
/// @group helpers
/// @example
/// 	[aria-busy='true'] { /* any element which can't be a parent */
///			@extend %loading-bg;
/// 	}
///
%loading-bg {
	background-image: url($base-url + 'loading.svg');
	background-position: 50% 50%;
	background-repeat: no-repeat;
	background-color: palette('loading', 'background');
}

/// Add a loading pseudo element over the element content
///
/// `[aria-busy='true']` styles are already available.
///
/// @author Sobral
/// @group helpers
/// @example
/// 	[aria-busy='true'] { /* any element other than `html` */
/// 		@extend %loading-el;
/// 	}
///
%loading-el {
	overflow: hidden;

	cursor: wait;

	&::after {
		position: absolute;
		top: 0;
		right: 0;
		bottom: 0;
		left: 0;

		z-index: layer('modal');

		content: '';
	}
}

[aria-busy='true'] {
	> body,
	&:not(html) {
		@extend %loading-bg;
		@extend %loading-el;
	}
}

img,
embed {
	@extend %loading-bg;

	background-size: auto;

	&::after {
		/*
		 *	Future proof reset
		 */
		content: none;
	}
}

input,
output,
keygen,
textarea {
	&[aria-busy='true'] {
		@extend %loading-bg;

		background-size: auto;
	}
}
